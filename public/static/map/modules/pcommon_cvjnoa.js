/**/_jsload2&&_jsload2('pcommon', 'function yj(a){this.P=a;this.tw=[];this.Nf=p;this.Rl=new Yc(p,{of:"api"});this.Pz()}var zj={none:["-1",""],transit:["0","m_transit.png"],hotel:["1","m_hotel.png"],catering:["2","m_catering.png"],movie:["3","m_movie.png"],transit:["4","m_transit.png"],indoor_scene:["5","m_indoor_scene.png"]};B.bn(function(a){new yj(a)}); x.extend(yj.prototype,{Pz:function(){var a=this;pano=a.P;pano.addEventListener("visible_poi_type_changed",function(b){a.E_(b.visiblePOIType)});pano.addEventListener("position_changed",function(){a.Nf&&a.eJ()})},E_:function(a){this.Nf=a;this.eJ()},$Q:function(){for(var a=this.tw.length-1;0<=a;a--)this.P.Ub(this.tw[a]);this.tw=[]},eJ:function(){this.$Q();if("inter"!==pano.kt()){var a=zj[this.Nf],b=this.P.ia(),c=this.P.Yb(),d=this;this.Rl.sE(b,200,a[0],function(b){var f=d.P.Yb();if(f===c)for(var g=p, g=p,i=0,k=b.length;i<k;i++)if(g=b[i],15>i||g.panoInfo&&g.panoInfo.panoId==f)g=new Te(g.position,{icon:I.pa+"panorama/"+a[1],title:g.title,altitude:g.altitude,panoInfo:g.panoInfo}),d.P.Ja(g),d.tw.push(g)})}}});function Aj(a,b){this.P=a;this.C=b;this.Tq=p;this.Rl=new Yc(p,{of:"api"});this.uB=[];this.vs();this.hm()}B.bn(function(a){function b(){var b=a.kt();a.k.indoorSceneSwitchControl==q||"street"==b?c&&c.U():"inter"==b&&(c||(c=new Aj(a,a.C)),c.r0(a.Yb()),c.show())}a.addEventListener("scene_type_changed",b);a.addEventListener("indoor_default_switch_mode_changed",b);var c=p}); x.extend(Aj.prototype,{hm:function(){this.yQ();this.Pz()},Yp:function(a){function b(){d.P.Nc({heading:c.heading,pitch:c.pitch});d.P.removeEventListener("position_changed",b)}var c=this.uB[a];this.P.rc(c.panoId);var d=this;this.P.addEventListener("position_changed",b)},next:function(){this.Yp(++this.Tq)},GZ:function(){this.Yp(--this.Tq)},vs:function(){var a=this.QJ=H("div"),b=a.style;b.position="absolute";b.zIndex="2000";b.width="100%";b.top=b.left="0px";this.C.appendChild(a);this.hg=H("a");this.hg.style.left= "2%";this.hg.href="javascript: void(0);";this.hg.className="pano_switch_left";a.appendChild(this.hg);this.Zh=H("a");this.Zh.style.right="2%";this.hg.href="javascript: void(0);";this.Zh.className="pano_switch_right";J()&&(this.Zh.style.height="34px",this.Zh.style.width="34px",this.Zh.style.borderRadius="17px",this.hg.style.height="34px",this.hg.style.width="34px",this.hg.style.borderRadius="17px");a.appendChild(this.Zh);this.hg.style.top=this.Zh.style.top=this.P.ih().height/2-14+"px"},r0:function(a){var b= this,c=this.P.Yb();this.Rl.Px(a,function(a){var e=b.P.Yb();e===c&&(b.uB=a,b.cP(e))})},U:function(){this.Pa=q;this.QJ.style.display="none"},show:function(){this.Pa=o;this.QJ.style.display="block"},oh:v("Pa"),cP:function(a){for(var b=this.uB,c=b.length-1;0<=c;c--)b[c].panoId==a&&(this.Tq=c);x.K.Tb(this.hg,"pano_switch_disable");x.K.Tb(this.Zh,"pano_switch_disable");1===this.Tq?x.K.Ta(this.hg,"pano_switch_disable"):this.Tq==b.length-1&&x.K.Ta(this.Zh,"pano_switch_disable")},yQ:function(){var a=this; ja.M(this.hg,"click",function(b){x.K.nt(b.target,"pano_switch_disable")||a.GZ()});ja.M(this.Zh,"click",function(b){x.K.nt(b.target,"pano_switch_disable")||a.next()})},Pz:function(){var a=this,b=a.P;b.addEventListener("position_changed",function(){if(a.oh()){var c=b.Yb();a.cP(c)}})}});function Bj(a){Pe.call(this);this.P=a;this.Rl=new Yc(p,{of:"api"});this.Rq={admission:"",photoDate:"",roadName:"",providerUrl:"",providerName:""};this.cs=p;this.Nr=[];this.fB=o;this.ra()}B.bn(function(a){new Bj(a)});x.lang.ua(Bj,Pe,"PanoramaCopyright"); x.extend(Bj.prototype,{ra:function(){this.C=this.Tj(1900);this.P.Ka();this.P.Ka().appendChild(this.C);var a=this;this.Rl.HL(function(b){a.Nr=b;a.Ba()});this.ca(this.P);this.P.k.copyrightControlOptions.logoVisible==q&&this.Ux()},Ba:function(){var a=this.pS(),b=[];b.push(\'<div style="width: 1000px; overflow:hidden;">\');if(this.fB){b.push(\'<a target="_blank" title="\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b\\u6b64\\u533a\\u57df" href=\'+this.P.CL()+\' style="outline:none;float:left;margin-left:3px">\');var c= I.pa+"copyright_logo.png";J()?(c=I.pa+"copyright_logo_hd.png",b.push("<img style=\'border:none;width:68px;height:25px;vertical-align:bottom;\' src=\'"+c+"\' />")):6==x.da.ma?b.push("<div style=\'float: left;cursor:pointer;width:77px;height:32px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c+")\'></div>"):b.push("<img style=\'border:none;width:77px;height:32px;vertical-align:bottom;\' src=\'"+c+"\' />");b.push("</a>")}b.push(\'<div style="float:left;\');J()?b.push(\'margin-top:8px;font-family:sans-serif;">\'): (b.push("margin-top:13px;"),x.platform.yM?b.push(\'font-family:sans-serif;">\'):b.push(\'">\'));a.roadName&&b.push(\'<span style="margin-left: 5px;">\'+a.roadName+"</span><span>|</span>");a.providerName&&(a.providerUrl?b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span><a style="text-decoration: none;color: rgb(54, 54, 54);" target="_blank" href="\'+a.providerUrl+\'" style="display:inline;">\'+a.providerName+"</a></span>"):b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span>\'+a.providerName+ "</span>"));b.push(\'<span style="margin-left: 5px;">\'+a.admission+"</span>");b.push(\'<span style="margin-left: 5px;">\\u62cd\\u6444\\u65e5\\u671f:\'+a.photoDate+"</span>");b.push("</div>");b.push("</div>");this.C.innerHTML=b.join("")},Tj:function(a){var b=H("div"),c=b.style;c.overflow="hidden";c.position="absolute";c.bottom=c.left="0";c.zIndex=a||"0";c.width="100%";c.fontSize="11px";c.height=J()?"27px":"34px";c.S4="none";c.WebkitTextSizeAdjust="none";c.WebkitUserSelect="none";c.visibility="hidden";c.fontFamily= "sans-serif";c.color="rgb(54, 54, 54)";c.lineHeight="20px";return b},ca:function(a){var b=this;a.addEventListener("copyright_changed",function(a){a.copyright&&(b.cs=a.copyright,b.Ba())});a.addEventListener("visible_changed",function(){b.C.style.visibility=a.rE()?"visible":"hidden"});a.addEventListener("copyright_options_changed",function(){a.k.copyrightControlOptions.logoVisible==q?b.Ux():b.TF()})},pS:function(){if(this.cs){for(var a in this.Rq)this.Rq[a]=this.cs[a];a=this.TX(this.cs.dataProviderIndex); this.Rq.providerName=a.name+this.cs.username;this.Rq.providerUrl=a.url}return this.Rq},TX:function(a){for(var b={name:"",url:"",id:""},c=this.Nr.length-1;0<=c;c--)if(this.Nr[c].id==a){var b=this.Nr[c],d;for(d in b)b[d]=x.trim(this.Nr[c][d])}return b},Ux:function(){/baidu\\.com/.test(document.domain)&&(this.fB=q,this.Ba())},TF:function(){this.fB=o;this.Ba()}}); ');
