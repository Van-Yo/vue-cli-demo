/**/_jsload2&&_jsload2('route', 'var fi={web:"http://api.map.baidu.com/direction?",android:"bdapp://map/direction?",ios:"baidumap://map/direction?"};function gi(a){this.city=a.city;this.ew=a.start;this.pv=a.end;this.Hr=a.Tt;this.moreResultsUrl=a.url;this.taxiFare=a.LO||p;this.NU=a.EO||ce;this.SR=a.oL||ce}x.extend(gi.prototype,{vj:v("ew"),kh:v("pv"),$X:v("NU"),wX:v("SR"),Kx:function(){return this.Hr.length},rf:function(a){if(this.Hr[a])return this.Hr[a]}});function hi(a){gi.call(this,a);this.policy=a.$c}x.ua(hi,gi,"DrivingRouteResult"); function ii(a){gi.call(this,a)}x.ua(ii,gi,"WalkingRouteResult");function ji(a){gi.call(this,a);this.policy=a.$c}x.ua(ji,gi,"TransitRouteResult");var ki=gi.prototype;U(ki,{getStart:ki.vj,getEnd:ki.kh,getStartStatus:ki.$X,getEndStatus:ki.wX,getNumPlans:ki.Kx,getPlan:ki.rf});function li(a){this.kk=a.AF.slice(0);this.dg=a.od||0;this.$q=a.duration||0;this.BR=a.MW||[]}x.extend(li.prototype,{mh:function(a){if(this.kk[a])return this.kk[a]},it:function(){return this.kk.length},Ue:function(a){return a===q?this.dg:mi(this.dg)},ct:function(a){return a===q?this.$q:ni(this.$q,"nav")},uX:v("BR")});var oi=li.prototype;U(oi,{getNumRoutes:oi.it,getRoute:oi.mh,getDistance:oi.Ue,getDuration:oi.ct,getDragPois:oi.uX});function pi(a){li.call(this,a);this.Xi=a.YY;this.ml=a.description;this.$q=a.duration||0}x.ua(pi,li,"TransitRoutePlan"); x.extend(pi.prototype,{Jx:function(){return this.Xi.length},eE:function(a){if(this.Xi[a])return this.Xi[a]},jh:function(a){return a===q?Q.XN(this.ml):this.ml},ct:function(a){return a===q?this.$q:ni(this.$q,"bustime")},GX:function(){for(var a="",b=this.Xi.length-1,c=0;c<b;c++)this.Xi[c]&&this.Xi[c].title&&(a+=this.EL(this.Xi[c].title)+" \\u2192 ");return a+=this.EL(this.Xi[b].title)},EL:function(a){return a.substring(0,a.indexOf("("))},lY:function(){for(var a=0,b=this.kk.length,c=0;c<b;c++)a+=this.kk[c].Ue(q); return mi(a)}});var qi=pi.prototype;U(qi,{getNumLines:qi.Jx,getLine:qi.eE,getNumRoutes:qi.it,getRoute:qi.mh,getDistance:qi.Ue,getDuration:qi.ct,getDescription:qi.jh});function ri(a){this.bs=a.Gj&&a.Gj.slice(0)||[];this.dg=a.od||0;this.Zj=a.index||0;this.Jr=a.ha.slice(0);this.vB=a.jF||0;this.tU=a.My;0===this.dg&&2<this.Jr.length&&(this.Jr.length=2)}x.extend(ri.prototype,{Lx:function(){return this.bs.length},WL:function(a){if(this.bs[a])return this.bs[a]},Ue:function(a){return a===q?this.dg:mi(this.dg)},cE:v("Zj"),lp:v("Zi"),ve:v("Jr"),mp:v("tU"),RX:v("vB")});var si=ri.prototype; U(si,{getNumSteps:si.Lx,getStep:si.WL,getDistance:si.Ue,getIndex:si.cE,getPolyline:si.lp,getPath:si.ve,getRouteType:si.mp});function ti(a){this.title=a.title;this.uid=a.uid;this.type=a.type;this.aj=a.N_.slice(0);this.Jr=a.ha.slice(0);this.dg=a.od||0;this.DT=a.pZ||0;this.Dd=a.status||{}}x.extend(ti.prototype,{MX:v("DT"),bE:function(){return this.aj[0]},aE:function(){return this.aj[1]},ve:v("Jr"),lp:v("Zi"),Ue:function(a){return a===q?this.dg:mi(this.dg)},np:v("title")});var ui=ti.prototype;U(ui,{getNumViaStops:ui.MX,getGetOnStop:ui.bE,getGetOffStop:ui.aE,getPath:ui.ve,getPolyline:ui.lp,getDistance:ui.Ue,getTitle:ui.np});function vi(a){this.Yh=a.point;this.Zj=a.index;this.ml=a.description;this.dg=a.od||0;this.qU=a.E4||0;this.vB=a.jF||0}x.extend(vi.prototype,{ia:v("Yh"),cE:v("Zj"),jh:function(a){return a===q?Q.XN(this.ml):this.ml},Ue:function(a){return a===q?this.dg:mi(this.dg)},r3:v("qU"),RX:v("vB")});var wi=vi.prototype;U(wi,{getPosition:wi.ia,getIndex:wi.cE,getDescription:wi.jh,getDistance:wi.Ue});x.extend(we.prototype,{va:function(a){window.RouteAddrInst=this;var b={},a=this.cc=this.BZ(this.cc,a);if(a.result){var c=this.fe=a.content.tpList.length+1,d=a.content,e=[],f=[],g=["sel_n","sel_n1","sel_y","sel_x","sel_x1"],i=[-1,-1],k=[],f=[];this.vu=[a.current_city.code,a.current_city.code];tempCode=a.current_city.code;for(var l=0;l<c+1;l++){var m=p;e.push([]);k.push("");f.push("");0==l?a.result.start_city&&(this.vu[0]=a.result.start_city.code||a.result.start_city[0].code,tempCode=this.vu[0]):a.result.end_city&& (this.vu[l]=a.result.end_city.code||a.result.end_city[l-1].code,tempCode=this.vu[l]);m=this.qi(l);if(0<a.result.count[l]&&1!=a.result.city_list[l]){13!=a.result.type&&24!=a.result.type&&(f[l]=\'<a href="javascript:void(0)" ></a>\');e[l].push(\'<div id="RADiv_ResItem\'+l+\'" class="sel_body_body_div sel_body_resitem">\');var n=[0,9];10>m.length&&(n[1]=m.length-1);e[l].push(this.bN(l,n));10<a.result.count[l]&&(e[l].push(\'<div id="RADiv_PAGE\'+l+\'" style="height:20px;" class="sel_body_body_page"></div>\'),this.VO[l]= Math.ceil(a.result.count[l]/10),this.xs[l]=1);e[l].push("</div>");1==a.result.prio_flag[l]?(i[l]=2,this.Ma[l].n=m[0].name,this.Ma[l].c=tempCode,this.Ma[l].u=m[0].uid,n=T.tb(Q.eb(m[0].geo,o).point),this.Ma[l].x=n.lng,this.Ma[l].y=n.lat,this.Ma[l].t=m[0].poiType,this.yg=n=this.$J(this.k.ja.map,n,m[0].name,l),this.VE.push(n.point),k[l]=m[0].name):i[l]=0}}for(var s,u,l=0;l<i.length;l++)if(m=i[l],3==m&&!s)this.jj=l,u&&(i[u-1]=1),s=l+1;else if(s){if(0==m||3==m)i[l]=m+1}else 0==m&&!u?(this.jj=l,u=l+1):u&& 0==m&&(i[l]=1);b.startPointClass=g[i[0]];this.cz=a.result.s_query?a.result.s_query:a.result.s_wd;b.startPoint=""==k[0]?this.cz:k[0];b.startBody=e[0].join("");b.endPointClass=g[i[c]];this.ux=a.result.e_query?"string"==typeof a.result.e_query?a.result.e_query:a.result.e_query[c-1]:"string"==typeof a.result.e_wd?a.result.e_wd:a.result.e_wd[c-1];b.endPoint=""==k[c]?this.ux:k[c];b.endBody=e[c].join("");b.startButton=f[0];b.endIndex=c;b.endButton=f[c];this.XO=[];s=[""];for(l=0;l<d.tpList.length;l++)u=l+ 1,c=k[u],""==c&&(c=a.result.x2[l]),this.XO.push(c),s.push([\'<div id="RouteAddress_DIV\'+u+\'" class="\'+g[i[u]]+\'">\',\'  <div class="sel_body">\',\'    <div class="sel_body_top"  onclick="RouteAddrInst.showLst(\'+u+\')">\',\'     <div class="sel_body_title">\\n        <div class="sel_body_sign"></div>\',\'        <div class="sel_body_name">\\u9014\\u7ecf\\u70b9\'+u+\'\\uff1a<b id="B_PointName\'+u+\'">\'+c+"</b></div>","      </div>",\'     <div id="RD_TOP_BUT\'+u+\'" class="sel_body_button">\'+f[u]+"</div>","    </div>",\'    <div class="sel_body_body" id="RADIV_BODY\'+ u+\'">\'+e[u].join("")+"</div>","  </div>\\n</div>"].join("\\n"));b.tpList=s.join("");return this.Y_(b)}},oC:function(){var a;x.$("RouteAddress_DIV0")&&(a=x.$("RouteAddress_DIV0").getElementsByTagName("tr"),this.fO(a));x.$("RouteAddress_DIV1")&&(a=x.$("RouteAddress_DIV1").getElementsByTagName("tr"),this.fO(a));var b=this;this.Bb&&this.Bb.addEventListener("open",function(){var a=x.$("selInfoWndBtn");x.M(a,"click",function(){var c=a.getAttribute("data-uid").split("_");b.itmSelect(c[0],c[1])});x.M(a,"mouseover", function(){b._selBtnOver(a)});x.M(a,"mousedown",function(){b._selBtnDown(a)});x.M(a,"mouseout",function(){b._selBtnOut(a)})});var c,d;x.$("RouteAddress_DIV0")&&(c=x.$("RouteAddress_DIV0").firstChild.firstChild,x.M(c,"click",function(){var a=c.getAttribute("data-uid");b.showLst(a)}));x.$("RouteAddress_DIV1")&&(d=x.$("RouteAddress_DIV1").firstChild.firstChild,x.M(d,"click",function(){var a=d.getAttribute("data-uid");b.showLst(a)}))},fO:function(a){var b=this;this.Fb(a,function(a,d){x.M(d,"mouseover", function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);ch=parseInt(c[2],10);b._lstMouseOver(this,0,c[0],ch-n2,a)});x.M(d,"mouseout",function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);ch=parseInt(c[2],10);b._lstMouseOut(this,0,c[0],ch-n2,a)});x.M(d,"click",function(a){var c=d.getAttribute("data-uid").split("_"),e=parseInt(c[0],10);n2=parseInt(c[1],10);ch=parseInt(c[2],10);b.select(e,ch,a)});var e=d.childNodes[2].getElementsByTagName("div")[0];x.M(e,"click", function(){var a=e.getAttribute("data-uid").split("_");b.itmSelect(a[0],a[1])});x.M(e,"onmouseover",function(){b._selBtnOver(e)});x.M(e,"onmouseout",function(){b._selBtnOut(e)});x.M(e,"onmousedown",function(){b._selBtnDown(e)})})},BZ:function(a,b){a.content||(a.content={start:[],end:[]});a.content.tpList=[];if(19==a.result.type){this.CZ(a,b);var c=a.content,d=[],e=c.length;a.content={start:[],end:[]};if(2<e)for(var f=1;f<e-1;f++)d.push(c[f]);a.content.end=c[e-1];a.content.tpList=d;a.content.start= c[0]}return a},CZ:function(a,b){var c={},d,e=0,f=0,g=[],i,k=a.result;d=[];c.city_list=[];c.count=[];c.current_null=[];c.e_query=[];c.e_wd=[];c.end_city=[];c.wd2=[];c.prio_flag=[];c.sug_index=[];c.total=[];c.s_wd="";c.s_query="";this.Pw=[];k.e_wd||(k.e_wd=[],k.e_query=[]);d=this.NN(b.start);i=d.type;c.s_wd=1==i?d.wb:k.s_wd;c.s_query=1==i?d.wb:k.s_query;1==i&&(this.Ma[e].o=c.s_wd,this.Ma[e].x=d.point.split(",")[0],this.Ma[e].y=d.point.split(",")[1]);this.Pw.push(2==i);c.total.push(1==i?1:k.total[f]); c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i?1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:d.wb,geo:"1|"+d.point+";"+d.point+"|"+d.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++;d=decodeURIComponent(b.end).split("to:");for(var l=0,m;m=d[l];l++){m=this.NN(m);i=m.type;2==i&&m.uid&&m.point&&(i=1);this.Pw.push(2==i);var n=2==i?m.wb:0==f?k.s_wd:k.e_wd[f-1]; c.e_wd.push(n);c.e_query.push(n);c.end_city.push(1==i?a.current_city:0==f?k.start_city:k.end_city[f-1]);1==i&&(this.Ma[e].o=c.s_wd,this.Ma[e].x=m.point.split(",")[0],this.Ma[e].y=m.point.split(",")[1]);m.zj&&(this.HY(e-1,{Hy:c.e_wd[e-1],ks:c.wd2[e],point:1==i?Q.SL(m.point):p,uid:m.uid}),this.xu.push({Hy:c.e_wd[e-1],ks:c.wd2[e],point:1==i?Q.SL(m.point):p,uid:m.uid}));c.total.push(1==i?1:k.total[f]);c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i? 1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:m.wb,geo:"1|"+m.point+";"+m.point+"|"+m.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++}x.extend(a.result,c);a.content=g},HY:function(a,b){var c=x.extend({},b);if(this.wu.length>a)this.wu[a]=b;else if(this.wu.length==a)this.wu.push(b);else return;this.wu[a]=c},NN:function(a){a=decodeURIComponent(a);a=a.split("$$");return{type:a[0],uid:a[1],point:a[2],wb:a[3],E3:a[4], N3:a[5],F2:a[6],zj:a[7]}},qi:function(a){return 0==a?this.cc.content.start:a==this.fe?this.cc.content.end:this.cc.content.tpList[a-1]},bN:function(a,b,c){this.li=-1;var c=c?c:this.qi(a),d=[];d.push(\'<div id="RA_ResItem_\'+a+\'"><table border="0" cellspacing="0" cellpadding="0" style="width:100%">\');for(var e=b[0];e<=b[1];e++){d.push(\'<tr  onmouseover="RouteAddrInst._lstMouseOver(this, 0,\'+a+", "+(e-b[0])+\', event)" onmouseout="RouteAddrInst._lstMouseOut(this, 0,\'+a+", "+(e-b[0])+\', event)" onclick="RouteAddrInst.select(\'+ a+","+e+\', event)"  filter = "item" data-uid="\'+a+"_"+b[0]+"_"+e+\'"  ><th><div title="\\u5728\\u56fe\\u4e0a\\u663e\\u793a\\u8be5\\u70b9" class="icon iconbg" id="no_\'+a+"_"+(e-b[0]+1)+\'"></div></th>\');var f=0==a?"\\u9009\\u4e3a\\u8d77\\u70b9":a==this.fe?"\\u9009\\u4e3a\\u7ec8\\u70b9":"\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";d.push(\'<td style="word-break:break-all;padding-right:24px">\');d.push(\'<a href="javascript:void(0)">\'+c[e].name+"</a>");c[e].addr&&""!=c[e].addr&&(d.push("<div>"),0==c[e].poiType?d.push(\'<span style="color:#999">\\u5730\\u5740: \'+ c[e].addr+"</span>"):1==c[e].poiType?d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a</span>\'+c[e].addr.split(";").join("; ")):3==c[e].poiType&&d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u5730\\u94c1\\uff1a</span>\'+c[e].addr.split(";").join("; ")),d.push("</div>"));d.push("</td>");d.push(\'<td style="vertical-align:middle;width:106px"><div tid="selBtn_\'+a+"_"+e+\'" class="selBtn"  onclick="RouteAddrInst.itmSelect(\'+a+","+e+\');return false;" onmouseover="RouteAddrInst._selBtnOver(this)" onmouseout="RouteAddrInst._selBtnOut(this)" onmousedown="RouteAddrInst._selBtnDown(this)" data-uid = "\'+ a+"_"+e+\'"  >\'+f+"</div>");d.push(\'<a data-uid="\'+c[e].uid+\'" href="javascript:void(0);" class="list_street_view_poi" style="visibility:hidden"><img src="/static/images/transparent.gif" ></a>\');d.push("</td>");d.push("</tr>")}d.push("</table></div>");return d.join("")},$J:function(a,b,c,d,e){0==d?a=X.Go(a,b,c,xi):d==this.fe?a=X.Go(a,b,c,yi):(c=this.xu[d-1],c.point=b,e&&(c.uid=e),a=X.eK(a,b,d-1));return a},Y_:function(a){var b=[];b.push(\'<div class="RouteAddressOuterBkg">\');b.push(\'<div class="RouteAddressTip"><span>\\u8bf7\\u9009\\u62e9\\u51c6\\u786e\\u7684\\u8d77\\u70b9\\u3001\\u9014\\u7ecf\\u70b9\\u6216\\u7ec8\\u70b9</span></div>\'); b.push(\'<div class="RouteAddressInnerBkg">\');b.push(\'<div id="pos5" style="display:none"></div>\');b.push(\'<div id="RouteAddress_DIV0" class="\'+a.startPointClass+\'"> \');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid="0" onclick="RouteAddrInst.showLst(0)" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u8d77\\u70b9\\uff1a<b id="B_PointName0">\'+a.startPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT0" class="sel_body_button">\'+ a.startButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY0">\'+a.startBody+"</div>");b.push("</div>");b.push("</div>");b.push(a.tpList);b.push(\'<div id="RouteAddress_DIV\'+a.endIndex+\'" class="\'+a.endPointClass+\'">\');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid=\'+a.endIndex+\' onclick="RouteAddrInst.showLst(\'+this.fe+\')" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u7ec8\\u70b9\\uff1a<b id="B_PointName\'+ a.endIndex+\'">\'+a.endPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT\'+a.endIndex+\'" class="sel_body_button">\'+a.endButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY\'+a.endIndex+\'">\'+a.endBody+"</div>");b.push("</div>");b.push("</div>");b.push(\'<div id="pos6" style="display:none"></div>\');b.push("</div>");b.push("</div>");return b.join("")},showLst:function(a){this.jj=a;var b=this.cc.content.tpList.length+1,c=this.qi(a);if(!c||!(1==c.length&&c[0].wE&& 1==c[0].wE)){var d=this.xs,e=x.$("RouteAddress_DIV"+a).className;if(!("sel_n"==e||"sel_x"==e||this.Pw&&!this.Pw[a])){if("sel_n1"==e||"sel_y"==e||"sel_x1"==e){for(var f=0;f<=b;f++){var g=x.$("RouteAddress_DIV"+f);ja.Ec("B_PointName"+f).innerHTML=this.sX(f);"sel_x"==g.className?g.className="sel_x1":"sel_n"==g.className&&(g.className="sel_n1")}this.AC();this.yg&&(this.map.Ub(this.yg),this.yg=p);"sel_y"==e&&(this.Ma[a]={o:"",Fd:0,Cn:0,x:0,y:0,qa:-1},this.Rp[a]=0);0>=this.cc.result.count[a]?x.$("RouteAddress_DIV"+ a).className="sel_x":(x.$("RouteAddress_DIV"+a).className="sel_n",1!=this.cc.result.city_list[a]&&(b=10*(d[a]-1)+9,c.length<b+1&&(b=c.length-1),this.Io(a,[10*(d[a]-1),b])))}this.li=-1}}},JB:function(a,b){var c;x.$("RA_ResItem_"+a)&&(c=x.$("RA_ResItem_"+a).childNodes[0]);if(c&&(c=c.rows[b]))c.style.backgroundColor="#F4F4F4",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="visible",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-b+"px -32px";this.Uf.length> b&&(this.Uf[b].Vb(new jd(I.sG,I.xP,{offset:I.wP,imageOffset:new M(-I.uP*b,-I.vP),infoWindowOffset:I.rG})),this.uJ(this.Uf[b],o,o))},_lstMouseOver:function(a,b,c,d){a=this.k.ja.map;this.li!=d&&(a.Wc(),this.JB(c,d))},_lstMouseOut:function(a,b,c,d){this.li!=d&&this.qw(c,d)},qw:function(a,b){var c=p;x.$("RA_ResItem_"+a)&&(c=x.$("RA_ResItem_"+a).childNodes[0]);c&&(c=c.rows[b],c.style.backgroundColor="#ffffff",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition= 24*-b+"px -64px");this.Uf.length>b&&(this.Uf[b].Vb(new jd(I.sG,I.vG,{offset:I.P0,imageOffset:new M(-I.uG*b,-I.tG),infoWindowOffset:I.O0})),this.uJ(this.Uf[b],q))},uJ:function(a,b,c){a&&a.Ei&&(b&&!a.sI&&a.Yc&&a.Yc.style?(a.sI=o,c?a.Ei(o,1000100):a.Ei(o)):!b&&(a.Yc&&a.Yc.style)&&(delete a.sI,a.Ei(q)))},select:function(a,b,c){if(2<arguments.length&&(c=c||window.w2,"selBtn"==(c.srcElement||c.target).className))return;var d=this.qi(a);this.map.Wc();d&&(this.Qp[0]!=this.Qp[1]&&this.yg&&this.map&&this.map.Dh(this.dn), this.JU(d,a,b),-1!=this.li&&this.qw(a,this.li),this.li=b%10,this.JB(a,this.li))},AC:function(){var a=this;(function c(){0!==a.Uf.length&&(a.map.Ub(a.Uf.shift()),c())})();(function d(){0!==a.dn.length&&(a.dn.shift(),d())})()},itmSelect:function(a,b){var c=this.map,d=this.qi(a);this.Ma[a].n=d[b].name;this.Ma[a].c=this.Qp[a];this.Ma[a].u=d[b].uid;var e=T.tb(Q.eb(d[b].geo_base64||d[b].geo,o).point);this.Ma[a].x=e.lng;this.Ma[a].y=e.lat;this.Ma[a].t=d[b].poiType;x.$("B_PointName"+a)&&(x.$("B_PointName"+ a).innerHTML=d[b].name);this.yg=this.$J(c,e,d[b].name,a);0!=a&&a!=this.fe&&(this.xu[a-1].Hy=d[b].name);this.AC();if(this.JY())this.yg&&(c.Ub(this.yg),this.yg=p),this.submit();else{x.$("RouteAddress_DIV"+a)&&(x.$("RouteAddress_DIV"+a).className="sel_y");for(c=0;1<=this.fe;){c=(a+1)%(this.fe+1);x.$("RouteAddress_DIV"+c)&&x.$("RouteAddress_DIV"+c);break}if(0==this.Rp[c]){x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_n");var d=this.xs[c],e=10*(d-1)+9,f=this.qi(c);f.length<e+1&& (e=f.length-1);this.Io(c,[10*(d-1),e]);this.select(c,0)}else 2==this.Rp[c]?x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_n"):x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_x");this.jj=c}},submit:function(){var a=this.map,b=this.Ma[0].c,c=this.Ma[this.fe].c;if(b==c)var d=b;var e={},f=new N("onpoiselected");if(13==this.cc.result.type||23==this.cc.result.type||24==this.cc.result.type)23==this.cc.result.type&&b!=c?(e.c=d||this.cc.current_city.code,e.sc=b,e.ec= c,e.sn="1$$$$"+this.Ma[0].x+","+this.Ma[0].y+"$$"+this.Ma[0].n+"$$$$$$",e.en="1$$$$"+this.Ma[1].x+","+this.Ma[1].y+"$$"+this.Ma[1].o+"$$$$$$"):(e.c=d||this.cc.current_city.code,e.sc=b,e.ec=c,e.sn="1$$"+this.Ma[0].u+"$$"+this.Ma[0].x+","+this.Ma[0].y+"$$"+this.Ma[0].n+"$$$$$$",e.en="1$$"+this.Ma[1].u+"$$"+this.Ma[1].x+","+this.Ma[1].y+"$$"+this.Ma[1].n+"$$$$$$");else{for(var g=d="",i=this.fe,k=0,l=this.xu.length;k<l;k++)d+=this.Qx(this.xu[k]),g+=this.Ma[k+1].c+"+to:";e.sc=b;e.ec=g+c;e.sn="1$$$$"+this.Ma[0].x+ ","+this.Ma[0].y+"$$"+this.Ma[0].n+"$$$$$$";e.en=d+"1$$$$"+this.Ma[i].x+","+this.Ma[i].y+"$$"+this.Ma[i].n+"$$$$$$"}e.sq=this.cz;e.eq=this.ux;f.paramInfo=e;f.sType=this.Ny;a.dispatchEvent(f)},Qx:function(a,b){var c=2,d="",e="",f="",g="0",i="";if(a.point||a.UN)c=1,e=a.point?a.point.lng+","+a.point.lat:a.UN.lng+","+a.UN.lat,a.uid&&(c=2,d=a.uid);a.Hy&&(f=a.Hy);a.ks&&(g="1",i=a.ks);isNaN(b)||(c=b);return c+"$$"+d+"$$"+e+"$$"+f+"$$"+g+"$$"+i+"$$$$1$$+to:"},JY:function(){for(var a=0;a<=this.fe;a++)if(""== this.Ma[a].n&&!this.Ma[a].x&&!this.Ma[a].y||this.Ma[a].n==j)return q;return o},_selBtnOver:function(a){a.style.backgroundPosition="-100px -81px"},_selBtnOut:function(a){a.style.backgroundPosition="-21px -81px"},_selBtnDown:function(a){a.style.backgroundPosition="-220px -81px";a.style.fontWeight="bold"},ra:function(){var a=this,b=this.fe;this.uO(this.cc);a.qO();for(var c=0;c<=b;c++)x.$("RADiv_PAGE"+c)&&(pg0=new oe("RADiv_PAGE"+c,function(b){var c=a.jj,d=[10*(b-1),10*b-1];a.Xt[c]<d[1]+1&&(d[1]=a.Xt[c]- 1);x.K.remove=function(a){var a=x.$(a),b=a.parentNode;b&&b.removeChild(a)};x.$("RA_ResItem_"+c)&&(x.K.remove(x.$("RA_ResItem_"+c)),ja.K.$x(x.$("RADiv_ResItem"+c),"AFTERBEGIN",a.bN(c,d)));a.Io(c,d,o);x.$("RADiv_ResItem"+c).scrollTop=0;a.xs[c]=b},{Wf:5,Md:a.VO[c],page:a.xs[d]}));var d=[0,9],c=this.jj,e=ja.Ec("RouteAddress_DIV"+c),f=this.qi(c);"sel_n"==e.className?this.cc.content&&(this.cc.result.city_list&&1!=this.cc.result.city_list[c]&&f&&0<f.length)&&(f.length<d[1]+1&&(d[1]=f.length-1),a.Io(c,d), a.select(c,0)):this.yg&&"sel_x"==e.className&&this.map.Dh(this.VE);for(var d=0;d<=b;d++)"sel_y"==x.$("RouteAddress_DIV"+d).className&&(c=this.qi(d),0<c.length&&(c[0].wE&&1==c[0].wE)&&(ja.x4(ja.Ec("RD_TOP_BUT"+d),"sel_body_button"),x.$("RD_TOP_BUT"+d).innerHTML=""))},sP:function(){var a=this.fe;this.uO(this.cc);this.qO();for(var b=0;b<=a;b++){var c=this.jj,d=[0,9];this.Xt[c]<d[1]+1&&(d[1]=this.Xt[c]-1);this.Io(c,d,o)}a=[0,9];b=this.jj;ja.Ec("RouteAddress_DIV"+b);c=this.qi(b);1==b?this.cc.content&& (this.cc.result.city_list&&1!=this.cc.result.city_list[b]&&c&&0<c.length)&&(c.length<a[1]+1&&(a[1]=c.length-1),this.Io(b,a)):this.yg&&0==b&&this.map&&this.map.Dh(this.VE);this.select(b,0)},uO:function(a){var b=this.map;if(a.sW&&!(a.result.C4&1)&&(29==a.result.type||13==a.result.type)){var a=a.sW,c=["country","province","city","area"],c=a.type!=p?modelConfig.vg[c[a.type]]:j,a=a.Jd!=p?a=Q.eb(a.Jd,o).point:j;b.UW?(c&&b.Ig(c),a&&b.Xf(a)):(b.UW=o,b.Gd(a||b.wc(),c||b.ga()))}},qO:function(){this.Qp=this.vu; for(var a=0;a<=this.fe;a++)0<this.cc.result.count[a]?0==this.cc.result.city_list[a]?(this.Rp[a]=1==this.cc.result.prio_flag[a]?1:0,this.Xt[a]=this.cc.result.count[a]):this.Rp[a]=2:this.Rp[a]=3},Io:function(a,b){var c=this,d=this.qi(a),e=c.map;c.AC();if(d){for(var f=b[0];f<=b[1];f++){var g=Q.eb(d[f].geo_base64||d[f].geo,o);c.Uf.push(X.mV(g.ha[0],f-b[0],d[f].name,e));c.dn.push(g.ha[0])}d=c.dn;c.yg&&c.Qp[0]==c.Qp[1]&&d.push(c.yg.point);if(this.map.oa()==Qa){var g=Rd[Qa].f2[e.Sb][1],i=getPointsBounds(d), k=e.mt(i).zoom;g.At(i)?(15>=k&&(k=15),e.Gd(d[0],k)):e&&e.Dh(d)}else e&&e.Dh(d);11==c.dn.length&&c.dn.pop();for(var l=this.Uf,f=b[0];f<=b[1];f++)(function(){var d=f;l[f-b[0]]&&(l[f-b[0]].addEventListener("click",function(){c.select(a,d)}),l[f-b[0]].addEventListener("mouseover",function(){var b=d%10;c.li!=b&&c.JB(a,b)}),l[f-b[0]].addEventListener("mouseout",function(){var b=d%10;c.li!=b&&c.qw(a,b)}))})()}},JU:function(a,b,c){var d=this,e=a[c],a="<span class=\'iw_poi_title\' title=\'"+e.name+"\'>"+e.name+ "</span>",f=[],g="";e.addr&&""!=e.addr&&(0==e.poiType?g="\\u5730\\u5740: "+e.addr:1==e.poiType?g="\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a"+e.addr.split(";").join("; "):3==e.poiType&&(g="\\u9014\\u7ecf\\u5730\\u94c1\\uff1a"+e.addr.split(";").join("; ")));f.push("<div style=\'padding:11px 11px 6px 11px;line-height:20px;word-break:break-all\'>"+g+"</div>");f.push("<div style=\'line-height:180%;margin-bottom:10px;\'>");e="\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";0==b&&(e="\\u9009\\u4e3a\\u8d77\\u70b9");b==this.fe&&(e="\\u9009\\u4e3a\\u7ec8\\u70b9"); f.push("<div style=\'text-align:center;\'><div id=\'selInfoWndBtn\' class=\'selInfoWndBtn\'  data-uid = \'"+b+"_"+c+"\'  />"+e+"</div>");f.push("</div>");this.Bb?(this.Bb.Dc(a),this.Bb.ad(f.join(""))):(this.Bb=new md(f.join(""),{title:a,height:0,width:280,margin:[0,0,0,0]}),this.Bb.addEventListener("open",function(){var a=x.$("selInfoWndBtn");x.M(a,"click",function(){var b=a.getAttribute("data-uid").split("_");d.itmSelect(b[0],b[1])});x.M(a,"mouseover",function(){d._selBtnOver(a)});x.M(a,"mousedown",function(){d._selBtnDown(a)}); x.M(a,"mouseout",function(){d._selBtnOut(a)})}),this.Bb.addEventListener("close",function(){d.qw(b,i)}));var i=c%10;this.Uf&&this.Uf[i]&&this.Uf[i].Mb(this.Bb)},sX:function(a){a==j&&(a=this.jj);return 0==a?this.cz:a==this.fe?this.ux:this.XO[a-1]},Fb:function(a,b){for(var c=0,d=a.length;c<d;c++)b(c,a[c])}});qe.MH=function(a,b,c){var d="";0===c&&(d+=";border-top:1px solid #e4e6e7");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:8px 0 8px 10px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}; qe.LH=function(a,b,c){return\'<h1 style="margin:0;border-top:1px solid #e4e6e7;\'+(c?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+I.fontFamily+\'"> \'+b+"\\u524d\\u5f80 "+a+" \\u7684\\u8def\\u7ebf</h1>"}; x.extend(qe.prototype,{search:function(a,b){return!a||!b?(this.Qe(),this.sb(5),this.Ra(Y.Tc),q):o},Qe:function(){delete this.ka;delete this.fa;delete this.Ga;delete this.Jq;delete this.Pl;var a=this.k.ja;this.sb();a.Ha&&(a.Ha.innerHTML="");a.map&&a.map.Wc();this.Rj();this.lb=-1},bf:function(a,b){var c,b=b||{};"string"===typeof a?c=[2,"","",a,0,""]:a instanceof O||a instanceof K?(c=T.tb(a),c=[1,"",c.lng+","+c.lat,b.m5||"",0,""]):(c=T.tb(a.point),c=[1,""+a.uid,c.lng+","+c.lat,a.title,0,""]);return c.join("$$")+ "$$"},Qh:function(a,b){var c;"string"===typeof a?c=a:(c=a instanceof O||a instanceof K?a:a.point,c=c.lat+","+c.lng);"string"!==typeof a&&(b&&""!==b&&"string"===typeof b)&&(c="name:"+b+"|latlng:"+c);return c},Qx:function(a){return this.bf(a)+"$$1$$"},v1:function(){var a;"string"===typeof dest?a=dest:(a=dest instanceof O||dest instanceof K?dest:dest.point,a=a.lat+","+a.lng);return a}});var xi=0,yi=1; function mi(a){"string"===typeof a&&(a=parseFloat(a));a=!a||0>a?"0\\u7c73":10>=a?"10\\u7c73":1E3>a?10*Math.round(a/10)+"\\u7c73":(a/1E3).toFixed(1)+"\\u516c\\u91cc";"1000\\u7c73"===a&&(a="1.0\\u516c\\u91cc");return a} function ni(a,b){if(!a||isNaN(a))return"";var c="",d=Math.ceil(a/60);if("bustime"===b)var e=d%10,f=parseInt(d/10,10),d=0!==e?5<e?10*++f:f?10*f:5:d;e=parseInt(d/1440,10);d%=1440;f=parseInt(d/60,10);d%=60;1<=e&&(c+=e+"\\u5929");1<=f&&(c+=f+"\\u5c0f\\u65f6");if(1<=d&&(!b||!("nav"===b&&1<=e)))c+=d+"\\u5206\\u949f";return c}U(ng,{clearResults:ng.Qe});x.extend(re.prototype,{Td:function(){for(var a=0,b=this.Oa.length;a<b;a++){var c=this.Oa[a];this[c.method].apply(this,c.arguments)}delete this.Oa;var d=this;this.k.ja.map&&this.k.ja.map.addEventListener("onpoiselected",function(a){d.qF(a)})},UA:function(a,b){function c(a){var a=a.split("$$"),b=a[0],c=p;/[0-2]/.test(b)&&7===a.length&&(c=a[+b+1]);return c}var d=this;this.Og(this.Ad,function(e){e={qt:d.xd,c:e,sn:a,A2:b,sy:d.k.$c||0,ext:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]");var f=c(a),g=c(b);$d.fb(function(a, b){d.Lf(a,b)},e,{start:f,end:g})})},search:function(a,b){if(qe.prototype.search.call(this,a,b)===o){var c=this;this.Og(this.Ad,function(d){d||(this.sb(5),this.Ra(Y.Tc));var e;"object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b?"string"===typeof a?e={qt:"bse",c:d,isSingle:o,wd:a,en:c.bf(b),sy:c.k.$c||0,ex:1}:"string"===typeof b&&(e={qt:"bse",c:d,isSingle:o,wd:b,sn:c.bf(a),sy:c.k.$c||0,ex:1}):e={qt:c.xd,c:d,sn:c.bf(a),en:c.bf(b),sy:c.k.$c||0,ex:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]"); $d.fb(function(a,b){c.Lf(a,b)},e,{start:a,end:b,KH:"search"})})}},qF:function(a){if(a.sType===this.xd){a=a.paramInfo;a.qt=this.xd;var b=this;a.sy=b.k.$c||0;var c={start:a.sq,end:a.eq,KH:"preciseSearch"};this.k.fd&&(c.aO=B.Fp+"mobile/webapp/interface/wiseBus/",c.Ts=o);$d.fb(function(a){b.Lf(a,c)},a,c)}},Lf:function(a,b){var c=this.k.ja.map;this.Qe();this.Ga=a;var d=a.result;this.fa=b;if(0!==d.error||d.type!==this.Pu||!a.content)23===d.type&&this.k.ja.map?(c=new we(a,{ja:this.k.ja,Ny:this.xd}),d=H("div", {style:"font:12px "+I.fontFamily+";background:#fff"}),d.innerHTML=c.va(),this.k.ja.Ha?(this.k.ja.Ha.appendChild(d),c.ra()):c.sP(),c.oC()):(this.ka=new ji({city:a.current_city.name,Tt:[],$c:d.sy,EO:j,oL:j}),this.sb(3),this.Ra(Y.Tc,this.ka));else if(this.k.fd&&"search"===b.KH){var e=new N("onpoiselected"),f={};f.qt=this.xd;f.sy=this.k.$c||0;f.sq=b.start;f.eq=b.end;f.sn=d.sn?d.sn:this.bf(d.start.wd);f.en=d.en?d.en:this.bf(d.end.wd);f.c=d.c;e.paramInfo=f;e.sType=this.xd;c.dispatchEvent(e)}else this.Ml(), this.Nl(),this._selectPlan(0)},MS:function(a,b){var c=ce;0===b&&(c=0<a?2:1);return c},Ml:function(){var a=this.Ga.result,b=this.Ga.content,c=this.Ga.current_city,d={},e={};if("object"===typeof this.fa.start&&!(this.fa.start instanceof O||this.fa.start instanceof K))x.extend(d,this.fa.start);else{d.title=a.start.wd||"\\u8d77\\u70b9";d.uid=a.start.uid;d.url=Y.Rh(d.uid,c.code);if(this.k.fd){var f=a.start.pt.split(",");d.point=T.ub(new K(parseFloat(f[0]),parseFloat(f[1])))}else d.point=Q.eb(a.start.pt, o).point;d.city=c.name}"object"===typeof this.fa.end&&!(this.fa.end instanceof O||this.fa.end instanceof K)?x.extend(e,this.fa.end):(e.title=a.end.wd||"\\u7ec8\\u70b9",e.uid=a.end.uid,e.url=Y.Rh(e.uid,c.code),this.k.fd?(f=a.end.pt.split(","),e.point=T.ub(new K(parseFloat(f[0]),parseFloat(f[1])))):e.point=Q.eb(a.end.pt,o).point,e.city=c.name);var f=[],g=0;this.Jq=[];for(var i=0;i<b.length&&!(g>this.k.Nk-1);i++)for(var k=0,l=b[i]&&b[i].stops&&b[i].stops.length;k<l&&!(g>this.k.Nk-1);k++){this.Jq[g]=[]; for(var m=b[i].stops[k],n=b[i].lines[k],s=0,u=0,w=n.length;u<w;u++)"object"===typeof n[u]&&s++;for(var s=n[s+1],u=[],w=[],y=0,D="<table class=\'trans-plan-content\'>",C=0;C<m.length-1&&n[C].geo;C++){var F=m[C].getOn,F={title:F.name,uid:F.uid,url:Y.Rh(F.uid,c.code),city:c.name,point:Q.eb(F.geo,o).point},z=m[C+1].getOff,z={title:z.name,uid:z.uid,url:Y.Rh(z.uid,c.code),city:c.name,point:Q.eb(z.geo,o).point},A=[];if(0===C)0<m[C].walk.distance&&m[C].walk.geo&&(A=Q.eb(m[C].walk.geo,o).ha.concat(F.point)); else if(0<m[C].walk.distance&&m[C].walk.geo)var A=Q.eb(m[C].getOff.geo,o).point,E=Q.eb(m[C].getOn.geo,o).point,A=[A].concat(Q.eb(m[C].walk.geo,o).ha).concat(E);w.push(new ri({od:m[C].walk.distance,ha:A.slice(0),My:ae,index:C,jF:i}));y+=m[C].walk.distance;C===m.length-2&&(0<m[C+1].walk.distance&&m[C+1].walk.geo&&(A=[z.point].concat(Q.eb(m[C+1].walk.geo,o).ha)),w.push(new ri({od:m[C+1].walk.distance,ha:A.slice(0),My:ae,index:C+1,jF:i})),y+=m[C+1].walk.distance);A=Q.eb(n[C].geo,o);E=[];if(this.k.fd&& n[C].link_color&&0<n[C].link_color.length)for(var G=0,P=0,S=n[C].link_color,ba=S.length;G<ba;G++){var ca=S[G],Ma=ca.status,Sa=A.ha.slice(P,P+ca.geo_cnt+1);E.push({ha:Sa,status:Ma});P+=ca.geo_cnt}u.push(new ti({title:n[C].name,uid:n[C].uid,od:n[C].distance,ha:A.ha,status:E,N_:[F,z],type:this.yS(n[C].type),pZ:n[C].station_num}));E=A.$a;A=E.xe();E=E.pf();A=[A,E];this.Jq[g].push(A[0],A[1]);y+=n[C].distance;m[C].walk.distance&&(D+="<tr><td><span class=\'navtrans-bus-icon walk\'><span class=\'bmap-link\'></span></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+ mi(m[C].walk.distance)+"\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+F.title+"</span></div></td></tr>");D+="<tr><td><span class=\'navtrans-bus-icon bus\'><span class=\'bmap-link\'></span></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+this.GU(n[C].name)+"</span>\\uff0c\\u7ecf\\u8fc7"+n[C].station_num+"\\u7ad9\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+z.title+"</span></div></td></tr>";C<m.length-2?D+="":m[C+1].walk.distance&&(D+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+ mi(m[C+1].walk.distance)+"\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+m[C+1].getOn.name+"</span></div></td></tr>")}D+="</table>";if(0===y)break;f.push(new pi({AF:w,od:y,duration:s,YY:u,description:D}));g++}b=B.oc+"direction?"+Hb({region:c.name,origin:this.Qh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start),destination:this.Qh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end)})+"&output=html&mode=transit&src=baidu_map_jsapi";this.ka=new ji({city:c.name,Tt:f, start:d,end:e,url:b,$c:a.sy});this.sb(0);this.Ra(Y.Tc,this.ka)},hU:function(a){var b=this.k.ja.map,c=[],d=this;if(b){var e=this.ka.rf(a);if(e){var f=this.ka.vj(),g=this.ka.kh(),i=X.Go(b,f.point,f.title,xi);f.marker=i;i.addEventListener("click",function(){d._select(0)});this.wa.push(i);i=X.Go(b,g.point,g.title,yi);g.marker=i;this.wa.push(i);i.addEventListener("click",function(){d._selectLast()});this.Jq[a].push(f.point,g.point);for(var k=0,i=e.Jx();k<i;k++){var l=e.eE(k),m=X.Ho(b,l.ve()),n=[];if(this.k.fd&& 0<l.Dd.length){for(var s=0,u=l.Dd.length;s<u;s++){var w=l.Dd[s];w.status&&(w=X.bK(b,w.ha,w.status),n.push(w),this.wa.push(w))}l.C1=n}l.Zi=m;this.wa.push(m);m=l.bE();c.push(m);var y=X.dK(b,m.point,l.type,m.title);m.marker=y;this.wa.push(y);m=l.aE();c.push(m);var D=X.dK(b,m.point,l.type,m.title);m.marker=D;(function(){var a=k;y.addEventListener("click",function(){d._select(2*(a+1)-1)});D.addEventListener("click",function(){d._select(2*(a+1))})})();this.wa.push(D);l=e.mh(k);0<l.Ue(q)&&(m=X.$l(b,l.ve(), l.mp()),l.Zi=m,this.wa.push(m))}l=e.mh(k);m=X.$l(b,l.ve(),l.mp());l.Zi=m;this.wa.push(m);d=this;this.k.ja.ah&&b.Dh(this.Jq[a],{margins:[30,30,30,30]});this.Ra(Y.Ku,e.Xi,e.kk);this.Ra(Y.lq,[f,g],c)}}},Nl:function(){if(this.k.ja.Ha&&this.k.ja.Ha.appendChild&&this.ka&&0<this.ka.Kx()){for(var a=H("div",{style:"font:12px "+I.fontFamily+";background:#fff"}),b=qe.LH(this.ka.kh().title,"\\u4e58\\u516c\\u5171\\u4ea4\\u901a\\u5de5\\u5177"),c=this.NH(this.ka.vj().title,\'Instance("\'+this.ba+\'")["_select"](0)\',0),d= this.NH(this.ka.kh().title,\'Instance("\'+this.ba+\'")["_selectLast"]()\',1),e=["<table style=\'font:12px "+I.fontFamily+";border-collapse:collapse;width:100%;\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],f=0,g=this.ka.Kx();f<g;f++){var i=this.ka.rf(f),k=i.Ue().replace(/(\\d+(?:.\\d+)?)/,"$1 "),l=i.ct().replace(/(\\d+)/,"$1 "),m=i.lY();bg="";var n="<p style=\'margin:0px 0px 5px 0px;font-size:14px;color: #36c;\'>"+i.GX()+"</p>",k="<p style=\'margin:5px 0px;font-size:12px;\'>"+k+"  &nbsp;|&nbsp;  "+l+"  &nbsp;|&nbsp; \\u6b65\\u884c"+ m+"</p>";e.push("<tr class=\'tranroute-plan-list\' style=\\"cursor:pointer"+bg+\'" onclick=\\\'Instance("\'+this.ba+\'")._selectPlan(\'+f+")\'>");e.push("<td style=\'vertical-align:top;line-height:18px\' ><div style=\'margin:3px 0px;border:1px solid #e4e6e7;\'><div class=\'trans-title\' style=\'padding: 5px 10px;\'>"+n+k+"</div><div class=\'trans_plan_desc\' style=\'padding:0px 8px;margin:0px;display:none;position:relative;\'>"+c+i.jh()+d+"</div></div></td>");e.push("</tr>")}e.push("</table>");c="<div style=\'border-bottom:1px solid #ccc;margin-bottom:10px;color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right\'>"; this.ka.moreResultsUrl&&(c+="<a style=\'color:#7777cc\' href=\'"+this.ka.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");a.innerHTML=b+e.join("")+(c+"&nbsp;</div>");this.k.ja.Ha.appendChild(a);this.Ra(Y.Lu,a)}},_select:function(a,b){var c=this.k.ja.map;if(c){var b=b||window.event,d=this.ka.rf(this.lb);if(d){var e=this,f=2*d.Jx();if(0===a||a===f+1){var g=0===a?this.ka.vj():this.ka.kh(),i=X.dx({content:"<b>"+g.title+"</b>",total:f,hx:a,vy:function(a){e._select(a)}}); i.addEventListener("open",function(){e.Ra(Y.Jn,g,X.dt(c))});var k=0===a?0:1,e=this;c.B.xm?af.wp(i,c.getCurrentCity().code,{panoInstance:c.P,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){e.wa[k].Mb(i)}):e.wa[k].Mb(i)}else{var d=d.eE(Math.floor((a+1)/2)-1),l,m=d.np();1===a%2?(l=d.bE(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0a\\u8f66</b>"):(l=d.aE(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0b\\u8f66</b>");i=X.dx({content:d,total:f,hx:a,vy:function(a){e._select(a)}});i.addEventListener("open", function(){e.Ra(Y.Jn,l,X.dt(c))});e=this;c.B.xm?af.wp(i,c.getCurrentCity().code,{panoInstance:c.P,lngLat:l.point,titleTip:l.title,type:"busline",beforeDomId:"trans_nav"},function(){l.marker.Mb(i)}):l.marker.Mb(i)}na(b)}}},_selectLast:function(a){a=a||window.event;if(this.ka&&-1<this.lb){var b=this.ka.rf(this.lb);if(!b)return;this._select(2*b.Jx()+1)}na(a)},_selectPlan:function(a){if(this.ka||this.F1.rf(a)){this.ka.rf(a);var b=this.k.ja.map;b&&(b.Wc(),this.Rj(),this.hU(a));if(this.k.ja.Ha){var c=this.k.ja.Ha.getElementsByTagName("table")[0]; if(!c)return;for(var b=x.getElementsByClassName(c,"tranroute-plan-list"),c=x.getElementsByClassName(c,"trans_plan_desc"),d=0;d<c.length;d++)d!==a&&(c[d].style.display="none");for(c=0;c<b.length;c++)x.Tb(b[c],"expand");c=x.getElementsByClassName(b[a],"trans_plan_desc")[0];"none"===c.style.display?(c.style.display="block",x.Ta(b[a],"expand")):c.style.display="none"}this.lb=a}},Rj:function(){for(var a=0;a<this.wa.length;a++)this.wa[a]&&this.wa[a].rB&&(this.wa[a].rB.remove(),this.wa[a].rB=p),this.wa[a]&& this.wa[a].remove(),this.wa[a]=p;this.wa.length=0},yS:function(a){return re.KP[a]},NH:function(a,b,c){var d="";0===c&&(d+="padding-top:5px;");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:2px 0 2px 0px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}});se=re.prototype;U(se,{_internalSearch:se.UA});te.NP=20;te.HP=50;te.GP=10; x.extend(te.prototype,{CE:function(){this.aa={Lp:[],Jb:[],Ii:[],eh:[],ne:p,sd:p,gD:q,Qw:p,Oo:p,CM:q,gx:p,hD:1,fD:1,wK:"\\u8d77\\u70b9",vK:"\\u7ec8\\u70b9",qy:q,Es:[]}},Td:function(){this.CE();for(var a=0,b=this.Oa.length;a<b;a++){var c=this.Oa[a];this[c.method].apply(this,c.arguments)}delete this.Oa;var d=this;this.k.ja.map&&this.k.ja.map.addEventListener("onpoiselected",function(a){d.qF(a)})},search:function(a,b,c){this.aa.CM=q;var c=c||{},d=c.waypoints;"[object Array]"==Object.prototype.toString.call(d)||(d= []);this.qP=d;if(qe.prototype.search.call(this,a,b)===o){var e=this;this.Og(this.Ad,function(f){var f=f||1,g;if(("object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b)&&0===d.length&&!e.k.fd)"string"===typeof a?g={qt:"nse",c:f,isSingle:o,wd:a,en:e.bf(b),sy:e.k.$c||0}:"string"===typeof b&&(g={qt:"nse",c:f,isSingle:o,wd:b,sn:e.bf(a),sy:e.k.$c||0}),this.xd=e.k.fd?e.xd:"nse",f={start:a,end:b,Ts:e.k.fd};else{var i=e.bf(a);en="";if(0<d.length){for(var k=0;k<d.length;k++)en+= e.Qx(d[k])+"+to:";en+=e.bf(b)}else en=e.bf(b);g={qt:e.xd,c:f,sn:i,en:en,sy:e.k.$c||0};f={start:i,end:en,Ts:e.k.fd}}0<d.length&&(f.eP=o);c.startCity&&(g.sc=c.startCity);if(c.endCity){i="";if(0<d.length){for(k=0;k<d.length;k++)i+=c.endCity+"+to:";i+=c.endCity}else i=c.endCity;g.ec=i}e.k.fd&&(g.route_traffic=1,g.version=4,g.mrs=0<e.qP.length?0:1);$d.fb(function(a,b){e.Lf(a,b)},g,f)})}},mA:function(a,b){var c=this;c.aa.CM=o;c.Og(c.Ad,function(d){for(var d=d||1,e=T.tb(c.aa.Jb[0]),e="1$$$$"+e.lng+","+e.lat+ "$$$$",f=c.aa.hD||d,g="",i="",k=1,l=c.aa.Jb.length;k<l;k++){var m=c.aa.Jb[k];k===l-1?(g+=c.bf(m),i+=c.aa.fD||d):(g=m.zj?g+(c.Qx(m)+"+to:"):g+(c.bf(m)+"+to:"),i+="0 +to:")}d={qt:c.xd,c:d,drag:1,sc:f,ec:i,sn:e,en:g,sy:c.k.$c||0};c.k.fd&&(d.route_traffic=1,d.version=4,d.mrs=0);e={start:a,end:b,Ts:c.k.fd};x.extend(e,{eP:o});$d.fb(function(a,b){c.Lf(a,b)},d,e)})},qF:function(a){var b=this;if(a.sType===this.xd){a=a.paramInfo;a.qt=this.xd;var b=this,c={start:a.sq,end:a.eq,Ts:b.k.fd};a.sy=b.k.$c||0;b.k.fd&& (a.route_traffic=1,a.version=4,a.mrs=0<b.qP.length?0:1);$d.fb(function(a){b.Lf(a,c)},a,c)}},Lf:function(a,b){this.Qe();this.Ga=a;var c=a.result;this.fa=b;if(0!==c.error||c.type!==this.Pu)if(23===c.type||19===c.type){var c=new we(a,{ja:this.k.ja,Ny:this.xd}),d=H("div",{style:"font:12px "+I.fontFamily+";background:#fff"});d.innerHTML=c.va(b);this.k.ja.Ha?(this.k.ja.Ha.appendChild(d),c.ra()):c.sP()}else this.ka=this.kv({city:a.current_city.name,Tt:[],$c:c.sy,EO:j,oL:j}),this.sb(3),this.Ra(Y.Tc,this.ka); else this.k.fd?this.bU():this.Ml(),this.gU(),this.Nl()},MS:function(a,b){var c=ce;0===b&&(c=0<a?2:1);return c},VB:function(){this.aa.sd&&this.aa.sd.aD();for(var a=0,b=this.aa.eh.length;a<b;a++){var c=this.aa.eh[a];c instanceof W&&c.aD()}},bU:function(){var a=this.Ga.result,b=this.Ga.content,c=this.Ga.current_city,d=a.waypoints,e=b.taxis&&b.taxis[0]&&b.taxis[0].total_price||0,f=[],g=[],i=0,k=0,l=b.routes[0].legs,m=b.steps,n=b.stepts,s=[],u=[];this.Pl=[];var w=this.aa.Ii.slice(0);this.aa.Ii.length= 0;var y={},D={},C=[],b=[],F=[],z=[];if("object"===typeof this.fa.start&&!(this.fa.start instanceof O||this.fa.start instanceof K))x.extend(y,this.fa.start);else{y.title=a.start.wd||"\\u8d77\\u70b9";y.uid=a.start.uid;y.url=Y.Rh(y.uid,a.start_city.code);var A=a.start.pt.split(",");y.point=T.ub(new K(parseFloat(A[0]),parseFloat(A[1])));y.city=a.start_city.cname}this.aa.hD=a.start_city.code;if("object"===typeof this.fa.end&&!(this.fa.end instanceof O||this.fa.end instanceof K))x.extend(D,this.fa.end);else{var E, A=a.end[a.end.length-1];E=a.end_city[a.end_city.length-1];this.aa.fD=E.code;D.title=A.wd||"\\u7ec8\\u70b9";D.uid=A.uid;"null"===D.uid&&(D.uid="");D.url=Y.Rh(A.uid,E.code);A=A.pt.split(",");D.point=T.ub(new K(parseFloat(A[0]),parseFloat(A[1])));D.city=E.cname}E=A=0;for(var G=l.length;E<G;E++){var P=l[E],i=i+P.distance,k=k+P.duration;f.push(P.distance);g.push(P.duration);for(var S=[],ba=[],ca=[],Ma=[],P=P.stepis,Sa=0,Wa=P.length;Sa<Wa;Sa++){for(var Da=P[Sa],vc=Da.s,Da=Da.n,Fe=m.slice(vc,Da+vc),Hf=n.slice(vc, Da+vc),pd=0;pd<Da;pd++){for(var Rb=Fe[pd],wc=Hf[pd],Ge=wc.end,He=wc.status,Wc=Q.eb(Rb.path,o).ha,qd=0,Ie=[],rd=0,If=Ge.length;rd<If;rd++){var Je=Ge[rd];Ie[rd]=Wc.slice(qd,qd+Je+1);qd+=Je}this.Pl[A]=Wc;ba=ba.concat(Wc);ca.push(Wc);Ma.push(He);Rb.Dy=Wc;Rb.c5=wc;Rb.hG=He;Rb.k0=Ie;A++}S=S.concat(Fe);u=u.concat(n.slice(vc,Da+vc+1))}s.push(S);F.push(ca);z.push(Ma);b.push(ba)}l=[];E=0;for(g=b.length;E<g;E++)m=new ri({Gj:s[E],od:f[E],index:E,ha:F[E],hG:z[E],My:this.Qu}),l.push(m);E=new li({AF:l,od:i,duration:k}); f="";i={};F=p;F=k="string";s=this.k.ja.map;if(this.fa.start instanceof O||this.fa.start instanceof K)k="point";if(this.fa.end instanceof O||this.fa.end instanceof K)F="point";"point"===k&&"string"===F||"string"===k&&"point"===F?(F="nse",s.Kd(),x.extend(i,{region:c.name,zoom:s.ga()}),"string"===k?(i.origin=this.fa.start,i.destination=this.Qh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end)):(i.destination=this.fa.end,i.origin=this.Qh(this.fa.start,this.fa.start.title?this.fa.start.title: this.fa.start))):(F=ee,i.region=c.name,i.origin_region=a.start_city.cname,i.destination_region=a.end_city[0].cname,i.origin=this.Qh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start),i.destination=this.Qh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end));F!==p&&(f=B.oc+"direction?"+Hb(i)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ka=this.kv({city:c.name,Tt:[E],start:y,end:D,url:f,$c:a.sy,LO:e});this.aa.Jb.length=0;this.aa.Lp.length=0;c=1;for(E=0;E<d.length;E++)e= d[E],f=(e.pt?e.pt:a.end[E].pt).split(","),f=T.ub(new K(parseFloat(f[0]),parseFloat(f[1]))),f.zj=e.if_wp?e.if_wp:a.end[E].pt,C.push(f),this.aa.Ii.push({title:e.wd?e.wd:w[E]&&w[E].title?w[E].title:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:f}),c++;this.aa.Jb.push(y.point);E=0;for(g=C.length;E<g;E++)this.aa.Jb.push(C[E]);this.aa.Jb.push(D.point);E=0;for(g=b.length;E<g;E++)a=b[E],a.Yk=E,a.oj=E+1,this.aa.Lp.push(a);this.sb(0);this.Ra(Y.Tc,this.ka)},Ml:function(){var a=this.Ga.result,b=this.Ga.content,c= this.Ga.current_city,d=b.kps,e=b.rss,f=a.waypoints,g={},i={};"object"===typeof this.fa.start&&!(this.fa.start instanceof O||this.fa.start instanceof K)?x.extend(g,this.fa.start):(g.title=a.start.wd||"\\u8d77\\u70b9",g.uid=a.start.uid,g.url=Y.Rh(g.uid,a.start_city.code),g.point=Q.eb(a.start.pt,o).point,g.city=a.start_city.cname);this.aa.hD=a.start_city.code;if("object"===typeof this.fa.end&&!(this.fa.end instanceof O||this.fa.end instanceof K))x.extend(i,this.fa.end);else{var k,l;k=a.end[a.end.length- 1];l=a.end_city[a.end_city.length-1];this.aa.fD=l.code;i.title=k.wd||"\\u7ec8\\u70b9";i.uid=k.uid;"null"===i.uid&&(i.uid="");i.url=Y.Rh(k.uid,l.code);i.point=Q.eb(k.pt,o).point;i.city=l.cname}var m=[],n=[],s=[],u=0,w=[];this.Pl=[];l=[];k=[];var y=[],D=0;this.aa.Ii.length=0;for(var C=1,F=0,z=d.length-1;F<z;F++){var A=d[F],E=d[F+1],G=e[F],P=e[F-1]||{},S=e[F+1],ba=Q.eb(A.pt,o).point,ca=Q.eb(G.g,o);ca&&(y=y.concat(ca.ha));u+=S.d;3===A.rt?(1===f[C-1].if_wp&&(ba.zj=1),l.push(ba),k.push(y.slice(0)),y=[],m.push(n.slice(0)), n=[],s.push(u),u=0,this.aa.Ii.push({title:P.n||S.n||"\\u672a\\u77e5\\u8def\\u6bb5",curNo:C,point:ba}),C++):(n.push(new vi({point:ba,index:n.length,description:this.qS(A,G,S,F,z,P,E),od:S.d})),ca&&(this.Pl[D]=1<F?[w[w.length-1]].concat(ca.ha):ca.ha,w=w.concat(ca.ha)),D++)}0<y.length&&k.push(y);0<n.length&&m.push(n);0<u&&s.push(u);d=[];F=0;for(z=k.length;F<z;F++)e=new ri({Gj:m[F],od:s[F],index:F,ha:k[F],My:this.Qu}),d.push(e);F=b.time;this.xd===fe&&(F=Math.round(b.dis/1.35));b=new li({AF:d,od:b.dis,duration:F, MW:this.aa.Ii});F="";z={};f=p;f=d="string";e=this.k.ja.map;if(this.fa.start instanceof O||this.fa.start instanceof K)d="point";if(this.fa.end instanceof O||this.fa.end instanceof K)f="point";"point"===d&&"string"===f||"string"===d&&"point"===f?(f="nse",e.Kd(),x.extend(z,{region:c.name,zoom:e.ga()}),"string"===d?(z.origin=this.fa.start,z.destination=this.Qh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end)):(z.destination=this.fa.end,z.origin=this.Qh(this.fa.start,this.fa.start.title?this.fa.start.title: this.fa.start))):(f=ee,z.region=c.name,z.origin_region=a.start_city.cname,z.destination_region=a.end_city[0].cname,z.origin=this.Qh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start),z.destination=this.Qh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end));f!==p&&(F=B.oc+"direction?"+Hb(z)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ka=this.kv({city:c.name,Tt:[b],start:g,end:i,url:F,$c:a.sy,LO:this.OS()});this.aa.Jb.length=0;this.aa.Lp.length=0;this.aa.Jb.push(g.point); F=0;for(z=l.length;F<z;F++)this.aa.Jb.push(l[F]);this.aa.Jb.push(i.point);F=0;for(z=k.length;F<z;F++)a=k[F],a.Yk=F,a.oj=F+1,this.aa.Lp.push(a);this.sb(0);this.Ra(Y.Tc,this.ka)},PH:function(){for(var a=0,b=this.ka.rf(0),c=0,d=b.it();c<d;c++)var e=b.mh(c),a=a+e.Lx();return a},jr:function(a){for(var b=0,c=this.ka.rf(0),d=0,e=c.it();d<e;d++)for(var f=c.mh(d),g=0,i=f.Lx();g<i;g++){var k=f.WL(g);if(b===a)return k;b++}},qS:function(a,b,c,d,e,f,g){var i="",i=parseInt(b.d,10),k=b.poi;k&&(i-=k.pd);var i=mi(i), f=this.GA(f.t,f.n),k=this.GA(b.t,b.n),l=this.GA(b.t,c.n),m=this.VH(a.dw)||"",m=a.dr?m+"<span>"+a.dr+"</span>\\uff0c":"";3===g.rt&&(m+="\\u5230\\u8fbe<span>"+this.FA(g.rt)+"</span>\\uff0c");c=k===l?"":this.KS(c.t,c.n)+"<span>"+l+"</span>";g=this.gI(a.ett||a.extt||a.tt);i=g+"<div class=\'navtrans-navlist-content\'>"+((""!==k&&f===k?"\\u7ee7\\u7eed":"")+this.LS(b.t,b.n))+k+this.FA(a.rt)+i+"\\uff0c"+this.HS(b)+this.PS(a)+m;0===d?i=g+"<div class=\'navtrans-navlist-content\'>\\u4ece\\u8d77\\u70b9\\u5411"+this.vv(a.ett|| a.extt||a.tt)+"\\u51fa\\u53d1</div>":0<d&&d<e-1?((a=this.vv(a.ett||a.extt||a.tt))||(a=this.vv(1)),i=i+a+c+"</div>"):i+="\\u5230\\u8fbe\\u7ec8\\u70b9</div>";return i},fT:function(a,b,c){if(b&&c&&0<c.length)for(var d=0,e=c.length;d<e;d++){var f=a.Cc(c[d]);if(X.tX(b,f)<=te.NP)return o}return q},gU:function(){this.k.ja.map&&this.ka&&(this.lU(),this.iU())},iU:function(){for(var a=this.k.ja.map,b=this.ka.rf(0),c=b.mh(0),d=this.ka.vj(),e=this.ka.kh(),f=this,g=this.aa.Jb.length,i=[],k=[],l,m=0,n=this.aa.Lp.length;m< n;m++){var s=this.aa.Lp[m];l=X.$l(a,s,c.mp());b.kk[m].Zi=l;l.Yk=s.Yk;l.oj=s.oj;s=l.Kd();i.push(s.xe());i.push(s.pf());this.oA&&g<te.GP+2&&(l.addEventListener("mousemove",function(b){f.aa.qy?f.aa.sd&&f.aa.sd.U():(f.aa.gx=this,f.aa.sd?f.fT(a,b.pixel,f.aa.Jb)?f.aa.sd.U():(f.aa.sd.show(),f.aa.sd.ta(b.point),f.aa.ne.ad("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),f.aa.ne.show(),f.aa.sd.qn(f.aa.ne)):(f.aa.sd=X.ZJ(a,b.point),f.aa.sd.Gb(),f.aa.sd.addEventListener("dragging",function(){f.gJ(this,a,f.aa.gx.Yk, f.aa.gx.oj)}),f.aa.sd.addEventListener("dragend",function(){var a=f.aa.Qw,b=a.name,c=f.aa.gx.oj;a.zj=p;f.aa.Jb.splice(c,0,a);f.aa.Ii.splice(c,0,{title:b?b:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:a});this.ta(a);f.VB();f.mA(d,e)}),f.aa.ne||(f.aa.ne=X.NK()),a.Ja(f.aa.sd)))}),l.addEventListener("mouseout",function(){f.aa.sd&&f.aa.sd.U()}));f.aa.eh.push(l);if(this.k.fd){c=b.mh(m);l=0;for(s=c.bs.length;l<s;l++)for(var u=c.bs[l],w=u.k0,u=u.hG,y=0,D=w.length;y<D;y++){if(u[y])var C=X.bK(a,w[y],u[y]);k.push(C); f.aa.eh.push(C)}c.O1=k}}this.k.ja.ah&&a.Dh(i,{margins:[30,30,30,30]});this.Ra(Y.Ku,b.kk)},lU:function(){var a=this.k.ja.map;this.ka.rf(0);for(var b=this.ka.vj(),c=this.ka.kh(),d=this,e=0,f=0,g=this.aa.Jb.length;f<g;f++){var i=this.aa.Jb[f];if(0===f)i=X.Go(a,i,b.title,xi),b.marker=i,i.addEventListener("click",function(){d._select(0)}),this.wa.push(i);else if(f===this.aa.Jb.length-1)i=X.Go(a,i,c.title,yi),c.marker=i,i.addEventListener("click",function(){d._select(d.PH()+1)}),this.wa.push(i);else{i.zj? (i=X.eK(a,i,e),e++,i.zj=1):i=X.ZJ(a,i);this.aa.Ii[f-1].Wm=i;var k=new Zc;k.Fw(new bd("\\u5220\\u9664\\u8be5\\u70b9",function(a,b,c){d._delVia(c.ix)},{width:60}));i.Fo(k);d.aa.Es.push(k)}i.ix=f;this.oA&&(i.Gb(),i.addEventListener("mouseover",function(){d.aa.qy=o;d.aa.ne?(d.aa.ne.ad("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),d.aa.ne.show()):d.aa.ne=X.NK();this.qn(d.aa.ne)}),i.addEventListener("mouseout",function(){this.dE()&&this.dE().U();d.aa.qy=q}),i.addEventListener("dragging",function(){d.gJ(this, a)}),i.addEventListener("dragend",function(){var a=d.aa.Qw,e=this.ix;this.zj&&(a.zj=1);d.aa.Jb[e]=a;this.ta(a);var a=d.aa.Jb[0],f=d.aa.Jb[d.aa.Jb.length-1];0===e&&(b.point=a,b.title=d.aa.wK);e===d.aa.Jb.length-1&&(c.point=f,c.title=d.aa.vK);d.VB();d.mA(b,c)}));d.aa.eh.push(i)}e=[b];e=e.concat(this.aa.Ii);e=e.concat([c]);this.Ra(Y.lq,e)},gJ:function(a,b,c,d){var e=this;if(e.aa.gD!==o){e.aa.gD=o;setTimeout(function(){e.aa.gD=q},te.HP);var f;f=T.tb(a.ia());var g=b.ga(),i=a.ix,k=e.k.$c;if("undefiend"!== typeof c&&"undefined"!==typeof d){var l=e.aa.Jb[c],l=T.tb(l),i=e.aa.Jb[d],i=T.tb(i);f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}}else 0===i?(i=e.aa.Jb[i+1],i=T.tb(i),f={qt:"drag",pt:f.lng+","+f.lat,sn:"",en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}):i===this.aa.Jb.length-1?(l=e.aa.Jb[i-1],l=T.tb(l),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:"",r:5E3,st:1,et:1,sy:k,l:g}):(l=e.aa.Jb[i-1],l=T.tb(l),i=e.aa.Jb[i+1],i=T.tb(i),f={qt:"drag",pt:f.lng+ ","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g});$d.fb(function(a,b){e.oU(a,b)},f,{rW:a,map:b,Yk:c,oj:d})}},oU:function(a,b){if(a&&a.content){this.aa.Qw=Q.eb(a.content.dragpt,o).point;var c,d=b.map,e=b.Yk,f=b.oj,g=b.rW.ix;"undefiend"!==typeof e&&"undefined"!==typeof f?c=Q.KN(a.content.geo).ha:0===g?(c=Q.eb(a.content.geo,o).ha,this.aa.wK=a.content.name?a.content.name:"\\u8d77\\u70b9"):g===this.aa.Jb.length-1?(c=Q.eb(a.content.geo,o).ha,this.aa.vK=a.content.name?a.content.name: "\\u7ec8\\u70b9"):c=Q.KN(a.content.geo).ha;c&&(this.ZQ(g,d,e,f),this.aa.Oo?this.aa.Oo.me(c):(e=this.ka.rf(0).mh(0),this.aa.Oo=X.$l(d,c,e.mp())));c=a.content.name?a.content.name:"\\u672a\\u77e5\\u8def\\u6bb5";this.aa.Qw.name=c;d="("+mi(a.content.dis)+")";this.aa.ne&&this.aa.ne.show();this.aa.ne&&this.aa.ne.ad(c+d)}},ZQ:function(a,b,c,d){for(var e=0,f=this.aa.eh.length;e<f;e++){var g=this.aa.eh[e];if(g instanceof zd)if("undefiend"!==typeof c&&"undefined"!==typeof d){if(g.Yk===c&&g.oj===d){b.Ub(g);break}}else(g.Yk=== a||g.oj===a)&&b.Ub(g)}this.eg&&this.eg.U()},_select:function(a){var b=this.lb,c=this.k.ja;if(c.Ha){var d=c.Ha.getElementsByTagName("table"),d=d[d.length-1].getElementsByTagName("tr");0<=b-1&&d[b-1]&&(d[b-1].style.background="");0<=a-1&&d[a-1]&&(d[a-1].style.background="#f0f0f0")}var e=c.map;if(e){var b=this.ka.rf(0).mh(0),d=this.PH(),f=this;e.Wc();if(0===a||a===d+1){var g=0===a?this.ka.vj():this.ka.kh(),i=X.dx({content:"<b>"+g.title+"</b>",total:d,hx:a,vy:function(a){f._select(a)},rY:1===c.vt?q:o}); i.addEventListener("open",function(){f.Ra(Y.Jn,g,X.dt(e))});i.addEventListener("close",function(){if(f.k.ja.Ha){var a=c.Ha.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=f.lb-1&&a[f.lb-1]&&(a[f.lb-1].style.background="")}f.lb=-1});var k=0===a?0:1,f=this;e.B.xm?af.wp(i,e.getCurrentCity().code,{panoInstance:e.P,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){f.wa[k].Mb(i)}):f.wa[k].Mb(i);this.eg&&this.eg.U()}else{var l=c.vt;if(1=== l){var m=this.jr(a-1),i=X.dx({content:m.jh()?m.jh(q):m.instructions,total:d,hx:a,vy:function(a){f._select(a)}});i.addEventListener("open",function(){f.Ra(Y.Jn,m,X.dt(e))});i.addEventListener("close",function(){if(f.k.ja.Ha){var a=c.Ha.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=f.lb-1&&a[f.lb-1]&&(a[f.lb-1].style.background="")}f.lb=-1});var n=m.ia?m.ia():m.Dy[m.Dy.length-1],f=this;e.B.xm?af.wp(i,e.getCurrentCity().code,{panoInstance:e.P,lngLat:n,titleTip:m.jh? m.jh(q):m.instructions,type:"driving",beforeDomId:"trans_nav"},function(){e.Mb(i,n)}):e.Mb(i,n)}else if(2===l)if(1===a&&!this.k.fd)m=this.jr(0),e.Xf(m.ia?m.ia():m.Dy[m.Dy.length-1]),c.ah&&e.Oc(17),this.eg&&this.eg.U();else if(this.Pl[a-1]&&(this.eg?(this.eg.me(this.Pl[a-1]),this.eg.show()):this.eg=X.$l(e,this.Pl[a-1],b.mp()+2),c.ah))b=e.mt(this.eg.Kd()),17<b.zoom&&(b.zoom=17),e.Dh(b)}}this.lb=a},_toggle:function(){var a=this.k.ja;if(a.Ha){var b=x.getElementsByClassName(a.Ha,"navtrans-res");b&&0<b.length&& (b=b[0],b.style.display=b&&"none"===b.style.display?"":"none");if((a=x.getElementsByClassName(a.Ha,"navtrans-view"))&&0<a.length)a=a[0],x.K.b0(a)}},Rj:function(){var a=this.k.ja.map;if(a){for(var b=0,c=this.wa.length;b<c;b++)a.Ub(this.wa[b]),this.wa[b]=p;this.wa.length=0;a.Ub(this.eg);this.eg=p;if(this.aa){this.aa.sd&&(a.Ub(this.aa.sd),this.aa.sd=p);this.aa.ne&&(a.Ub(this.aa.ne),this.aa.ne=p);b=0;for(c=this.aa.eh.length;b<c;b++)a.Ub(this.aa.eh[b]),this.aa.eh[b]=p;this.aa.eh.length=0;this.aa.Oo&&(a.Ub(this.aa.Oo), this.aa.Oo=p);b=0;for(c=this.aa.Es.length;b<c;b++)a.Op(this.aa.Es[b]),this.aa.Es[b]=p;this.aa.Es.length=0;this.aa.qy=q}}},_delVia:function(a){if(this.ka){var b=this.ka.vj(),c=this.ka.kh();this.aa.Jb.splice(a,1);this.VB();this.mA(b,c)}},Nl:function(){if(this.k.ja.Ha&&this.k.ja.Ha.appendChild&&this.ka&&0<this.ka.Kx()){var a=this.ka.rf(0),b=H("div",{style:"font:12px "+I.fontFamily+";background:#fff"}),c=this.aa.Ii,d=c.length,e=[],f=this.xd===ee,f=qe.LH(this.ka.kh().title,f?"\\u9a7e\\u8f66":"\\u6b65\\u884c", 0<d);if(0<d){e.push("<table style=\'width:100%;margin-left:4px;font:12px "+I.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>");for(var g=0;g<d;g++)e.push("<tr>"),0===g&&(1===d?e.push(\'<td style="padding:2px 5px;line-height:20px">\\u9014\\u7ecf\\u70b9</td>\'):e.push(\'<td valign="top" rowspan="\'+d+\'" style="padding:2px 5px;line-height:18px">\\u9014\\u7ecf\\u70b9</td>\')),e.push(\'<td style="padding:2px 5px;line-height:20px">\'+c[g].title+"</td>"),e.push(\'<td style="padding:2px 10px;line-height:20px;cursor:pointer;color:#0000ff" onclick=\\\'Instance("\'+ this.ba+\'")._delVia(\'+c[g].curNo+")\'>\\u5220\\u9664</td>"),e.push("</tr>");e.push("</table>")}for(var c=qe.MH(this.ka.vj().title,\'Instance("\'+this.ba+\'")._select(0)\',0),d=["<table class=\'navtrans-table\' style=\'width:100%;font:12px "+I.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],i=0,k=0,l=a.it();k<l;k++)for(var m=a.mh(k),g=0,m=m.Lx();g<m;g++){var n="";this.lb===i+1&&(n=";background:#f0f0f0");d.push(\'<tr style="cursor:pointer\'+n+\'" onclick=\\\'Instance("\'+this.ba+ \'")._select(\'+(i+1)+")\'>");d.push("<td style=\'border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;\' >"+(this.jr(i).jh?this.jr(i).jh():this.jr(i).instructions)+"</td>");d.push("</tr>");i++}d.push("</table>");g=qe.MH(this.ka.kh().title,\'Instance("\'+this.ba+\'")._select(\'+(i+1)+")",1);a="<div class=\'navtrans-view expand\' style=\'position:relative;color:#7777cc;background:#e5ecf9;height:53px;overflow:hidden;text-align:right\' onclick=\'Instance(\\""+this.ba+"\\")._toggle()\'><span class=\'suggest-plan\'>\\u63a8\\u8350</span><div class=\'suggest-plan-des\'>"+ a.Ue().replace(/(\\d+(?:.\\d+)?)/,"$1 ")+"&nbsp;&nbsp;|&nbsp;&nbsp;"+a.ct().replace(/(\\d+)/,"$1 ")+"</div>";this.ka.moreResultsUrl&&(a+="<a style=\'color:#7777cc;position:absolute;top:5px;right:20px;\' href=\'"+this.ka.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");b.innerHTML=f+(a+"&nbsp;<span class=\'navtrans-arrow\'></span></div>")+("<div class=\'navtrans-res\'>"+e.join("")+c+d.join("")+g+"</div>");this.k.ja.Ha.appendChild(b);this.Ra(Y.Lu,b)}},GA:function(a,b){if(""=== b||!b)if(9===a||12===a||1===a||16===a)b=te.YP[a];return b},HS:function(a){var b="",c=a.poi;c&&(b=this.dI(c.ps)||"",b=(this.eI(c.pw)||"")+b+"<b>"+c.pn+"</b>"+(c.pd<(13===a.qa||4===a.qa?1E3:50)?"":"\\u7ea6"+mi(c.pd)+"\\u540e")+(""===b?"":"\\uff0c"));return b},PS:function(a){var b=a.iw;return!a.ic?"":(this.$H(b)||"")+"<b>"+a.ic+"</b>"+(this.aI(b)||"")},LS:function(a,b){var c="\\u6cbf";if(0===a||!b&&1!==a&&16!==a&&9!==a&&12!==a)c="";return c},KS:function(a,b){var c="\\u8fdb\\u5165";if(!b&&(9===a||12===a))c= "\\u4e0a";else if(0===a||!b&&1!==a&&16!==a)c="";return c},OS:function(){if(this.Ga&&this.Ga.content&&this.Ga.content.taxi){var a=this.Ga.content.taxi,b={distance:a.dis,remark:a.remark};if(a.detail[0]){var c=a.detail[0];b.day={initialFare:parseFloat(c.startPrice),unitFare:parseFloat(c.kmPrice),totalFare:parseFloat(c.totalPrice)}}a.detail[1]&&(a=a.detail[1],b.night={initialFare:parseFloat(a.startPrice),unitFare:parseFloat(a.kmPrice),totalFare:parseFloat(a.totalPrice)});return b}return p}});ue.Fz=" \\u76f4\\u884c \\u53f3\\u524d\\u65b9\\u8f6c\\u5f2f \\u53f3\\u8f6c \\u53f3\\u540e\\u65b9\\u8f6c\\u5f2f \\u8c03\\u5934 \\u5de6\\u540e\\u65b9\\u8f6c\\u5f2f \\u5de6\\u8f6c \\u5de6\\u524d\\u65b9\\u8f6c\\u5f2f \\u9760\\u5de6 \\u76f4\\u884c \\u9760\\u53f3 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411".split(" "); ue.Dz=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u884c\\u9a76"];ue.wq="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-9 s-1 s-10        ".split(" ");ue.xz=["\\u5728","\\u4ece","\\u4ece"];ue.yz=["","","\\u79bb\\u5f00"];ue.Cz=["\\u8fc7","\\u5728"];ue.Bz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];ue.rz=["","\\u671d"]; x.extend(ue.prototype,{kv:function(a){return new hi(a)},vv:function(a){return ue.Fz[a]},gI:function(a){return\'<span class="navtrans-navlist-icon \'+(ue.wq[a]?ue.wq[a]:"")+\'"></span>\'},FA:function(a){return ue.Dz[a]},$H:function(a){return ue.xz[a]},aI:function(a){return ue.yz[a]},eI:function(a){return ue.Cz[a]},dI:function(a){return ue.Bz[a]},VH:function(a){return ue.rz[a]}});ve.Fz=" \\u76f4\\u8d70 \\u5411\\u53f3\\u524d\\u65b9\\u8f6c \\u53f3\\u8f6c \\u5411\\u53f3\\u540e\\u65b9\\u8f6c \\u5411\\u540e\\u8f6c \\u5411\\u5de6\\u540e\\u65b9\\u8f6c \\u5de6\\u8f6c \\u5411\\u5de6\\u524d\\u65b9\\u8f6c \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411    ".split(" "); ve.wq="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-7 s-3 s-7 s-3            ".split(" ");ve.Dz=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u8d70"];ve.xz=["\\u5728","\\u4ece","\\u4ece"];ve.yz=["","","\\u79bb\\u5f00"];ve.Cz=["\\u8fc7","\\u5728"];ve.Bz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];ve.rz=["","\\u671d"]; x.extend(ve.prototype,{kv:function(a){delete a.url;return new ii(a)},vv:function(a){return ve.Fz[a]},gI:function(a){return\'<span class="navtrans-navlist-icon \'+(ve.wq[a]?ve.wq[a]:"")+\'"></span>\'},FA:function(a){return ve.Dz[a]},$H:function(a){return ve.xz[a]},aI:function(a){return ve.yz[a]},eI:function(a){return ve.Cz[a]},dI:function(a){return ve.Bz[a]},VH:function(a){return ve.rz[a]}});x.extend(ze.prototype,{Td:function(a,b,c){this.fM("web",this.bM(a,b,c))},gO:function(a,b,c){this.fM("web",this.bM(a,b,c))},sO:function(a,b){var c=this.vh,d="";a&&a.OM&&a.name?(d=a.OM,d="latlng:"+d.lat+","+d.lng,d+="|name:"+a.name):d=(d=a.OM)?d.lat+","+d.lng:a.name?a.name:"";c[b]=d},bM:function(a,b,c){this.sO(a,"origin");this.sO(b,"destination");var c=this.vh=x.object.extend(this.vh,c),a=[],d="";if("undefined"===typeof c.origin||""===c.origin)c.origin="";var b={destination:q,mode:q},e;for(e in c)d= e+"="+c[e],a.push(d),"undefined"!==typeof b[e]&&(b[e]=o);this.mode=c.mode;b.mode===q&&(this.mode="driving",a.push("mode=driving"),b.mode=o);e=o;for(var f in b)e=e&&b[f];return e?a.join("&"):q},fM:function(a,b,c){b&&(b=fi[a]+b+"&src=baidu|jsapi",Ra(7E3,{mode:this.mode}),"web"===a&&(b+="&output=html"),location.href=b,c&&c())}}); ');
